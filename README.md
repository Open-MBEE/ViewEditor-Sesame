# View Editor (Sesame Version)
This is a web app that provides a sandbox for people to edit select Magicdraw model properties through views generated by DocGen. Name, documentation, or default values of model elements can be edited and import back into Magicdraw.

# Dependencies
* Tomcat 7 (http://tomcat.apache.org/)
* Maven (as defined in pom.xml)
	* Sesame 2.6.10 (http://www.openrdf.org/)
	* Alibaba 2.0-rc7 (http://www.openrdf.org/alibaba.jsp)
	* Spring Framework 3.2.0 (http://projects.spring.io/spring-framework/)
	* Spring Security 3.1.3 (http://projects.spring.io/spring-security/)
	* spring-security-ldap
	* jstl 1.2 (https://jstl.java.net/)
	* json-simple
	* commons-fileupload
	* commons-io
	* ldapbp
	
# Local setup and test
1. Install Tomcat 7, under the conf dir, edit tomcat-users.xml to add the manager-gui role and a user with that role so we can use the tomcat manager application
1. edit the conf/server.xml and enable https (see tomcat documentation)
1. Get the Sesame dist, put the openrdf-sesame and openrdf-workbench war apps under Tomcat's webapp dir
1. Create a folder somewhere to house sesame database data
1. edit bin/startup.sh (or export CATALINA_OPTS somewhere) to increase tomcat's memory and set the sesame data dir
	* export CATALINA_OPTS='-Xmx1024M -XX:PermSize=256M -XX:MaxPermSize=512m -Dinfo.aduna.platform.appdata.basedir={your sesame data dir}/'
1. start Tomcat
1. Go to http://localhost:8080/openrdf-workbench
1. Create a new repository:
	* type: native java store
	* id and title: editor
1. Click on Add under the Modify menu on the left
	* browse RDF Data File to the ontologies/docweb.owl
	* upload
1. Go to Namesapces
	* modify the namespaces so that a 'docweb' prefix corresponds to http://docgen.jpl.nasa.gov/ontologies/docweb#
1. shutdown Tomcat
1. add a '-Dsesame.rep={your sesame data}/openrdf-sesame' to the CATALINA_OPTS (the sesame.rep is how view editor gets the data dir)
1. create the view editor war (export from eclipse or maven install, if maven, the war will be in /target)
1. install the war into Tomcat's webapp dir
1. start Tomcat
1. go to http://localhost:8080/manager/html
	* stop the openrdf-sesame and openrdf-workbench apps (this is because sesame only allows one app to connect to the repository at one time if not going through their rest interface)
1. go to http://localhost:8080/editor/ui/
	* you should see the landing page with no project tabs
	
# Exporting and importing via magicdraw
* see the MDK documentation and manual on the modeling patterns and DocGen pattern, import and export options are built into MDK plugin for Magicdraw